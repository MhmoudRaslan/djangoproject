{% extends 'base.html' %}

{% block title %}All Projects - Crowdfund Console{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
    <h2>All Projects</h2>
    {% if user.is_authenticated %}
        <a href="{% url 'project_create' %}" class="btn btn-primary">Create Project</a>
    {% else %}
        <a href="{% url 'login' %}?next={% url 'project_create' %}" class="btn btn-outline-primary">Login to create</a>
    {% endif %}
</div>
<div class="row mb-3">
  <div class="col-md-8">
    <form class="row g-2" method="get">
      <div class="col-auto">
        <input type="text" name="q" class="form-control" placeholder="Search title..." value="{{ q }}">
      </div>
      <div class="col-auto">
        <input type="date" name="date" class="form-control" value="{{ date }}">
      </div>
      <div class="col-auto">
        <button type="submit" class="btn btn-primary">Search</button>
        <a href="{% url 'project_list' %}" class="btn btn-outline-secondary">Clear</a>
      </div>
    </form>
  </div>
</div>
<ul class="list-group">
{% for project in projects %}
<li class="list-group-item">
<a href="/projects/{{ project.id }}/">{{ project.title }}</a>
<span class="text-muted float-end">Target: {{ project.target_amount }} EGP</span>
</li>
{% empty %}
<p>No projects found.</p>
{% endfor %}
</ul>
{% endblock %}